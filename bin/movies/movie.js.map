{"version":3,"sources":["movies/movie.es6"],"names":[],"mappings":"AAAA;;;;AAIA;;AAEA,IAAM,OAAO,QAAQ,MAAR,CAAb;AACA,IAAM,SAAS,QAAQ,QAAR,CAAf;;AAEA,IAAM,UAAU,QAAQ,uBAAR,CAAhB;;eACoB,QAAQ,WAAR,C;;IAAb,S,YAAA,S;;;AAEP,SAAS,KAAT,CAAe,QAAf,EAAyB,IAAzB,EAA+B;AAC3B,QAAI,EAAE,gBAAgB,KAAlB,CAAJ,EAA8B;AAC1B,eAAO,IAAI,KAAJ,CAAU,IAAV,CAAP;AACH;;AAED,UAAM,MAAN,CAAa,IAAb,CAAkB,IAAlB;;AAEA,SAAK,QAAL,GAAgB,QAAhB;AACA,SAAK,IAAL,GAAY,IAAZ;;AAEA,WAAO,IAAP;AACH;;AAED,KAAK,QAAL,CAAc,KAAd,EAAqB,MAArB;;AAEA,OAAO,gBAAP,CAAwB,MAAM,SAA9B,EAAyC;AACrC,gBAAY;AACR,iBAAS,iBAAkB;AAAA;;AACvB,gBAAI,gBAAJ;AAAA,gBAAa,iBAAb;AACA,oBAAQ,UAAK,MAAb;AACI,qBAAK,CAAL;AACI,8BAAU,EAAV;AACA;AACA;;AAEJ,qBAAK,CAAL;AACI;AACA;AACA;;AAEJ;AACI;AAZR;;AAeA,gBAAI,cAAc,OAAO,MAAP,CAAc,EAAd,EAAkB,UAAU,GAA5B,EAAiC;AAC/C,uBAAO,UAAU,GAAV,CAAc,OAAd,CAAsB,GAAtB,aAAoC,KAAK,GAAL,CAAS,IAAT,CAApC,CADwC;AAE/C,sBAAM,OAAO,MAAP,CAAc,EAAd,EAAkB,OAAlB,EAA2B,EAAE,WAAW,KAAK,QAAL,CAAc,MAA3B,EAA3B;AAFyC,aAAjC,CAAlB;;AAKA,oBAAQ,WAAR,EAAqB,UAAC,KAAD,EAAQ,QAAR,EAAkB,IAAlB,EAA2B;AAC5C,oBAAI,KAAJ,EAAW;AACP,2BAAO,SAAS,KAAT,CAAP;AACH;;AAED,sBAAK,IAAL,GAAY,KAAK,KAAL,CAAW,IAAX,CAAZ;;AAEA,uBAAO,SAAS,IAAT,QAAP;AACH,aARD;AASH;AAhCO,KADyB;;AAoCrC,WAAO;AACH,iBAAS,eAAS,EAAT,EAAa;AAClB,gBAAI,MAAM,KAAK,IAAf,EAAqB;AACjB,uBAAO,KAAK,IAAL,CAAU,EAAV,CAAP;AACH;;AAED,mBAAO,IAAP;AACH;AAPE;AApC8B,CAAzC;;AA+CA,OAAO,OAAP,GAAiB,KAAjB","file":"movies/movie.js","sourcesContent":["/**\r\n * Created by Paul on 06/08/2016.\r\n */\r\n\r\n'use strict';\r\n\r\nconst util = require('util');\r\nconst TypeOf = require('typeof');\r\n\r\nconst request = require('../libs/timed-request');\r\nconst {Templates} = require('../config');\r\n\r\nfunction Movie(instance, data) {\r\n    if (!(this instanceof Movie)) {\r\n        return new Movie(data);\r\n    }\r\n\r\n    Movie.super_.call(this);\r\n\r\n    this.instance = instance;\r\n    this.data = data;\r\n\r\n    return this;\r\n}\r\n\r\nutil.inherits(Movie, Object);\r\n\r\nObject.defineProperties(Movie.prototype, {\r\n    'complete': {\r\n        'value': function(...args) {\r\n            let options, callback;\r\n            switch (args.length) {\r\n                case 1:\r\n                    options = {};\r\n                    callback = args[0];\r\n                    break;\r\n\r\n                case 2:\r\n                    options = args[0];\r\n                    callback = args[1];\r\n                    break;\r\n\r\n                default:\r\n                    return;\r\n            }\r\n\r\n            let requestData = Object.assign({}, Templates.GET, {\r\n                'url': Templates.URL.replace('$', `movie/${this.get('id')}`),\r\n                'qs': Object.assign({}, options, { 'api_key': this.instance.apikey })\r\n            });\r\n\r\n            request(requestData, (error, response, body) => {\r\n                if (error) {\r\n                    return callback(error);\r\n                }\r\n\r\n                this.data = JSON.parse(body);\r\n\r\n                return callback(null, this);\r\n            });\r\n        }\r\n    },\r\n\r\n    'get': {\r\n        'value': function(id) {\r\n            if (id in this.data) {\r\n                return this.data[id];\r\n            }\r\n\r\n            return null;\r\n        }\r\n    }\r\n});\r\n\r\nmodule.exports = Movie;\r\n"],"sourceRoot":"/source/"}